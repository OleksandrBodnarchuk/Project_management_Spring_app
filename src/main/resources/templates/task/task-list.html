<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head th:replace="~{fragments/header :: header-css}" />
<body>
	<div th:replace="~{fragments/header :: navbar}"></div>
	<br>
	<div class="container bootstrap snippets bootdey">
		<div class="row well">
			<h3>Tasks</h3>
			<br>
			<div sec:authorize="hasAuthority('ADMIN')">
				<a th:href="@{/tasks/projects/{id}/new (id=${project.id})}"
					class="btn btn-primary btn-success"> <span
					class="glyphicon glyphicon-plus-sign"></span> Add new Task
				</a>
			</div>
			<br>
			<table border="1" class="table table-striped table-responsive-md">
				<thead>
					<tr>
						<th><a> ID</a></th>
						<th><a> Type</a></th>
						<th><a> Name</a></th>
						<th><a> Status </a></th>
						<th><a> Priority </a></th>
						<th><a>Task Progress </a></th>
						<th><a>Assigned</a></th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="task : ${project.tasks}">
						<td th:text="${task.id}"></td>
						<td th:text="${task.type}"></td>
						<td th:text="${task.name}"></td>
						<td th:text="${task.status}"></td>
						<td th:text="${task.priority}"
							th:if="${task.priority}=='High' ? 'color:red;':'color:blue;'"></td>
						<td>progress here TBC</td>
						<td
							th:text="${task.userAssigned.firstName} + ' ' + ${task.userAssigned.lastName}"></td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</body>
</html>
